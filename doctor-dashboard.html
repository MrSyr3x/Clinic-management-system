<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doctor Dashboard - Apollo CMS</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="dashboard">
        <nav class="navbar">
            <div class="nav-brand">üè• Apollo CMS</div>
            <div class="nav-items">
                <span id="doctorName">Doctor</span>
                <button id="logoutBtn" class="btn btn-primary">Logout</button>
            </div>
        </nav>
        
        <div class="dashboard-container">
            <div class="dashboard-welcome">
                <div class="welcome-content">
                    <h1>Welcome Back! üëã</h1>
                    <p>Manage your patients and consultations today</p>
                </div>
                <div class="welcome-date">
                    <span id="currentDate"></span>
                </div>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">üìã</div>
                    <h3>Patients Today</h3>
                    <div class="stat-number" id="patientsToday">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚è≥</div>
                    <h3>Pending Consultations</h3>
                    <div class="stat-number" id="pendingCount">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚úÖ</div>
                    <h3>Completed Today</h3>
                    <div class="stat-number" id="completedCount">0</div>
                </div>
            </div>

            <div class="info-section">
                <div class="info-card">
                    <h4>üí° How to Use</h4>
                    <p>View the patient queue below, select a patient, and add their prescription after consultation. All data is automatically saved to the system.</p>
                </div>
                <div class="info-card">
                    <h4>üìä Today's Summary</h4>
                    <p>You have <span id="totalPendingSummary">0</span> pending consultations waiting. Manage them efficiently to provide better care.</p>
                </div>
            </div>
            
            <div class="patient-section">
                <div class="section-header">
                    <div>
                        <h2>Patient Queue</h2>
                        <p class="section-subtitle">Manage consultations and patient care</p>
                    </div>
                    <div class="queue-status">
                        <span class="status-indicator">üü¢ Active</span>
                    </div>
                </div>
                
                <div id="patientList" class="patient-cards"></div>
                
                <div id="emptyState" class="empty-state" style="display: none;">
                    <div class="empty-icon">üòå</div>
                    <h3>No patients yet</h3>
                    <p>All patients for today have been processed. Great work!</p>
                </div>
            </div>

            <div class="dashboard-footer-info">
                <div class="footer-info-item">
                    <span class="footer-icon">‚öôÔ∏è</span>
                    <div>
                        <strong>Professional Care</strong>
                        <p>Ensure accurate prescriptions for better patient outcomes</p>
                    </div>
                </div>
                <div class="footer-info-item">
                    <span class="footer-icon">üîí</span>
                    <div>
                        <strong>Secure & Private</strong>
                        <p>All patient data is encrypted and secure</p>
                    </div>
                </div>
                <div class="footer-info-item">
                    <span class="footer-icon">‚è±Ô∏è</span>
                    <div>
                        <strong>Real-time Updates</strong>
                        <p>Data syncs instantly across the clinic</p>
                    </div>
                </div>
            </div>
            
            <div id="prescriptionModal" class="modal">
                <div class="modal-content">
                    <button class="close">&times;</button>
                    <h2>Add Prescription</h2>
                    
                    <div id="patientInfo" class="patient-info-box"></div>
                    
                    <form id="prescriptionForm">
                        <div class="form-group">
                            <label for="diagnosis">Diagnosis</label>
                            <textarea id="diagnosis" rows="3" required placeholder="Enter diagnosis..."></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="prescription">Prescription</label>
                            <textarea id="prescription" rows="5" required placeholder="Enter medicines and dosage..."></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="notes">Additional Notes</label>
                            <textarea id="notes" rows="3" placeholder="Any additional instructions..."></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="consultationFee">Consultation Fee (‚Çπ)</label>
                            <input type="number" id="consultationFee" required placeholder="500">
                        </div>
                        
                        <button type="submit" class="btn btn-primary btn-block">Save Prescription</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        document.getElementById('currentDate').textContent = new Date().toLocaleDateString('en-US', { 
            weekday: 'long', 
            year: 'numeric', 
            month: 'long', 
            day: 'numeric' 
        });
    </script>
    <script type="module" src="js/doctor.js"></script>
</body>
</html>
